{% extends 'layout.html' %}
{% block content %}
<script src="https://code.highcharts.com/maps/highmaps.js"></script>
<script src="https://code.highcharts.com/maps/modules/exporting.js"></script>
<script src="https://code.highcharts.com/mapdata/countries/kv/kv-all.js"></script>
<script type="text/javascript" src="{{url_for('static', filename="js/activityMap.js")}}"></script>
<script  src="{{url_for('static', filename="js/papaparse.min.js")}}">
</script>
<script type="text/javascript">
var data2 = [
    {//Prishtina
        "name": "Prishtinë",
        "value": 0,
        "hc-key": "kv-7310",
        "id": 0
    },
    {//Gjilani
        "name": "Gjilan",
        "value": 0,
        "hc-key": "kv-842"
    },
    {//Prizereni
        "name": "Prizren",
        "value": 0,
        "hc-key": "kv-843"
    },
    {
        "name": "Ferizaj",
        "value": 0,
        "hc-key": "kv-7324"
    },
    {
        "name": "Lipjan",
        "value": 0,
        "hc-key": "kv-7311"
    },
    {
        "name": "Podujevë",
        "value": 0,
        "hc-key": "kv-7309"
    },
    {
        "name": "Obiliq",
        "value": 0,
        "hc-key": "kv-7308"
    },
    {
        "name": "Gllogoc",
        "value": 0,
        "hc-key": "kv-7307"
    },
    {
        "name": "Malishevë",
        "value": 0,
        "hc-key": "kv-7317"
    },
    {
        "name": "Gjakovë",
        "value": 0,
        "hc-key": "kv-7321"
    },
    {
        "name": "Rahovec",
        "value": 0,
        "hc-key": "kv-7322"
    },
    {
        "name": "Klinë",
        "value": 0,
        "hc-key": "kv-7319"
    },
    {
        "name": "Deçan",
        "value": 0,
        "hc-key": "kv-7320"
    },
    {
        "name": "Istog",
        "value": 0,
        "hc-key": "kv-7318"
    },
    {//Skenderaj
        "name": "Skënderaj",
        "value": 0,
        "hc-key": "kv-7305"
    },
    {//Vushtrri
        "name": "Vushtrri",
        "value": 0,
        "hc-key": "kv-7304"
    },
    {//Artanë
        "name": "Novobërdë",
        "value": 0,
        "hc-key": "kv-7313"
    },
    {//kamenice
        "name": "Kamenicë",
        "value": 0,
        "hc-key": "kv-7314"
    },
    {//Mitrovice
        "name": "Mitrovicë",
        "value": 0,
        "hc-key": "kv-7303"
    },
    {//Suharek
        "name": "Suhareka",
        "value": 0,
        "hc-key": "kv-7316"
    },
    { //shtime
        "name": "Shtime",
        "value": 0,
        "hc-key": "kv-7323"
    },
    { //Vitia
        "name": "Viti",
        "value":0,
        "hc-key": "kv-7312"
    },
    { // Shterpce
        "name": "Shtërpcë",
        "value": 0,
        "hc-key": "kv-7325"
    },
    { // Kaqanik
        "name": "Kaçanik",
        "value": 0,
        "hc-key": "kv-7326"
    },
    {
        "name": "Zveçan",
        "value": 0,
        "hc-key": "kv-844"
    },
    {
        "name": "Leposaviq",
        "value": 0,
        "hc-key": "kv-7302"
    },
    {
        "name": "Zubin Potok",
        "value": 0,
        "hc-key": "kv-7306"
    },
    {
        "name": "Fushë Kosovë",
        "value": 0,
        "hc-key": "kv-845"
    },
    {
        "name": "Dragash",
        "value": 0,
        "hc-key": "kv-7315"
    },
    {
        "name": "Pejë",
        "value": 0,
        "hc-key": "kv-841"
    }
];

// Parse CSV string
// var data = Papa.parse(data2);

// // Convert back to CSV
var csv = Papa.unparse(data2);
console.log(csv);
// Parse local CSV file
// Papa.parse(file, {
// complete: function(results) {
//     console.log("Finished:", results.data);
// }
// });

</script>
<div class="container">
    <div class="row">
        <div class="alert alert-danger alert-dismissible" role="alert">
            <button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button>
            <span>Njoftim!!! N&euml; hart&euml; shfaqen vet&euml;m 30 komuna nga 38 komuna gjithsej, kjo &euml;sht&euml; p&euml;r shkak se ende nuk jan&euml; p&euml;rdit&euml;suar komunat e krijuara se fundmi. Komunat q&euml; mungojn jan&euml; t&euml; bashkuara me komun&euml;n t&euml; cil&euml;s i kan&euml; takuar m&euml; par&euml;.</span>
        </div>
        <div class="con1" style="margin-top:30px;margin-bottom:20px;">
            <h3 class="headers">Shtrirja e aktiviteteve n&euml; hart&euml;.</h3>
            <form id="form-3" class="form-inline" method="POST">
                <div class="form-group">
                    <div class="dropdown" id="dropdown-first">
                        <label for="activity" class="lbl-filter">Aktiviteti:</label>
                        <button class="btn btn-dropdown dropdown-toggle" type="button" id="dropdown-menu-first" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
                            <span class="selected-value"></span>
                            &nbsp;<span class="glyphicon glyphicon-menu-hamburger" aria-hidden="true"></span>
                        </button>
                        <ul class="dropdown-menu acts" name="activity" id="activity_val" style="max-width:500px;" aria-labelledby="dropdown-menu-first">
                            {% for i in activities%}
                            <li><a href="javascript:onActivitySelection('{{ i['activity'] }}')">{{ i['code'] }} - {{ i['activity'] }}</a></li>
                            {% endfor %}
                        </ul>
                    </div>
                    <div class="dropdown" id="dropdown-second" style="margin-top: 10px;">
                        <label for="status" class="lbl-filter">Statusi:</label>
                        <button class="btn btn-dropdown dropdown-toggle" type="button" id="dropdown-menu-second" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
                            <span class="selected-value-status"></span>
                            &nbsp;<span class="glyphicon glyphicon-menu-hamburger" aria-hidden="true"></span>
                        </button>
                        <ul class="dropdown-menu acts" name="status" id="activity_val" style="max-width:500px;" aria-labelledby="dropdown-menu-second">
                            <li><a href="javascript:onStatusSelection('T&euml; gjith&euml;')">T&euml; gjith&euml;</a></li>
                            <li><a href="javascript:onStatusSelection('Aktiv')">Aktiv</a></li>
                            <li><a href="javascript:onStatusSelection('Shuar')">Shuar</a></li>
                        </ul>
                    </div>
                </div>
            </form>
            <div class="col-xs-12">
                <div class="overllay">
                    <div class="loader-gif">
                        <img src="{{url_for('static', filename='img/preloader.gif')}}" alt="">
                    </div>
                </div>
                <div id="mapContainer" style="min-width: 100%; margin-top:30px !important; height: 700px; margin: 0 auto"></div>
            </div>
        </div>
    </div>
</div>
{% endblock %}
